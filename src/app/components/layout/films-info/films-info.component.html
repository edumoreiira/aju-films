<!-- <article
  class="flex flex-col rounded-2xl border border-stone-200 max-w-[700px] mx-auto shadow-sm overflow-hidden"
> -->
  <div class="bg-stone-200 p-2 flex items-center justify-between">
    <div class="flex items-center">
    @for(item of films ; track $index) {
      
        <button class="py-1 px-2 sm:px-1.5 cursor-pointer group"
        [attr.aria-label]="'Ver detalhes do item ' +  item.title "
        (click)="carousel.setCurrentItem($index)">
          <span class="block h-2.5 w-2.5 rounded-full
          transition-colors"
          [ngClass]="activeItem() === $index ? 'bg-stone-500' : 'bg-stone-300 group-hover:bg-stone-400'"></span>
        </button>
      
    }
  </div>
  @if(autoslide()) {
    <button class="p-1"
    (click)="carousel.stopAutoSlide()">
      <i class="fi fi-sr-pause flex text-xs text-stone-500"></i>
      <span class="sr-only">Pausar auto-seleção dos itens</span>
    </button>
  } @else {
    <button class="p-1"
    (click)="carousel.startAutoSlide()">
      <i class="fi fi-sr-play flex text-xs text-stone-500"></i>
      <span class="sr-only">Retomar auto-seleção dos itens</span>
    </button>
  }
  </div>

  <app-carousel #carousel [items]="films"
  [interval]="10000"
  (onNavigateToItem)="handleNavigateToItem($event)"
  (autoSlideStatus)="autoslide.set($event)"
  >
    <ng-template let-item let-index="index">
        
    @let currentIndexActive = index - 1 === activeItem();
    <div carouselItem class="flex flex-col justify-between active:cursor-grabbing"
    [style.maxHeight]="
      limitElementHeight() === true ? '18rem' :
      limitElementHeight() === false && currentIndexActive ? '45rem' : '20rem'
    ">
      <div class="p-5 pb-2">
        @switch (item.top_seller) {
          @case (true) {
            <div class="flex gap-2 items-center flex-wrap">
              <h1 class="text-xl font-medium">{{ item.title }}</h1>
              <div class="flex items-center gap-1 text-xs px-2 py-1 border rounded-full border-orange-300 bg-orange-300/10">
                <i class="fi fi-sr-fire-flame-curved flex text-orange-300"></i>
                <span class="text-stone-500">Mais vendidos</span>
              </div>
            </div>
          }
          @default {
            <h1 class="text-xl font-medium">{{ item.title }}</h1>
          }
        }
      </div>

      <p #textEl class="px-5 relative mb-auto
      text-stone-600 shrink min-h-0 overflow-ellipsis overflow-hidden">{{ item.text }}
      @if(isTextsClamped()[index] && limitElementHeight() === true) {
        <div @fadeIn class="flex items-end justify-center
        absolute bottom-0 left-0 w-full h-[60px] from-25% bg-gradient-to-t from-white to-transparent">
          <button class="text-sm px-4 py-1 rounded-xl text-stone-800 z-20" type="button"
          (mousedown)="$event.stopPropagation()"
          (click)="disableLimitElementHeight()">Mostrar Mais</button>
        </div>
      }
      </p>

      <div class="flex items-start sm:gap-6 xs:gap-4 gap-2.5 rounded-xl m-1.5 mt-3 bg-stone-100 sm:px-8 sm:py-4 px-4 py-4 justify-around shrink-0">
        @for (info of item.info; track $index) {
          <div class="text-center">
            <p class="sm:text-xl  text-stone-900 ">{{ info.large_text }}</p>
            <p class="text-stone-500 text-xs sm:text-sm">{{ info.small_text }}</p>
          </div>
        }
      </div>
    </div>





    </ng-template>
  </app-carousel>
<!-- </article> -->
